"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6982],{86982:function(e,a,i){i.r(a),i.d(a,{default:function(){return ImageGeneration}});var s=i(57437),n=i(2265);i(61396),i(37132);var t=i(40492),c=i.n(t),l=i(51872),r=i(58005),o=i(24813),d=i(80967),u=i(62501),m=i(42020),h=i(86793),p=i(54660),g=i(93681),v=i(33968);let x=(0,o.Z)(e=>({card:{maxWidth:600,minWidth:240,margin:"auto",transition:"0.3s",boxShadow:"0 8px 40px -12px rgba(0,0,0,0.3)","&:hover":{boxShadow:"0 16px 70px -12.125px rgba(0,0,0,0.3)"}},media:{width:"100%"},list:{padding:0},listItem:{},buttons:{padding:e.spacing(1)},controls:{minWidth:"100px"},icon:{height:18,width:18},avatar:{display:"inline-block"}}));var WavesurferPlayer=function(e){let a,{song:i,pagination:t,forceStop:o}=e,f=(0,n.useRef)(null),[j,y]=(0,n.useState)(!1),[N,_]=(0,n.useState)(!1),k="wavesurfer--".concat((0,l.Z)()),{size:w,elapsed:S,percentage:b,download:Z,cancel:C,error:P,isInProgress:W}=(0,r.ZP)();(0,n.useEffect)(()=>{let loadWaveSurfer=async()=>{if(i.audio_id&&!f.current){f.current=c().create({container:"#".concat(k),waveColor:"grey",progressColor:"#4BB543",height:70,cursorWidth:1,cursorColor:"lightgray",barWidth:1,barGap:5,normalize:!0,responsive:!0,fillParent:!0}),f.current.load("".concat("https://mhtai.kenroly.com/api/upload","/").concat(null==i?void 0:i.audio_id)),f.current.on("ready",()=>{y(!0)});let e=f.current.util.debounce(()=>{f.current.empty(),f.current.drawBuffer()},150);f.current.on("play",()=>_(!0)),f.current.on("pause",()=>_(!1)),window.addEventListener("resize",e,!1)}};loadWaveSurfer()},[f,i.audio_id]);let togglePlayback=()=>{N?f.current.pause():f.current.play()},z=x();return a=N?(0,s.jsx)(u.Z,{onClick:togglePlayback,children:(0,s.jsx)(p.Z,{className:z.icon})}):(0,s.jsx)(u.Z,{onClick:togglePlayback,children:(0,s.jsx)(m.Z,{className:z.icon})}),(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(d.Z,{className:"".concat(z.card," card-sound-wave"),children:[(0,s.jsx)(g.Z,{container:!0,direction:"row",alignItems:"center",className:"border-bottom",children:(0,s.jsx)(g.Z,{item:!0,xs:12,className:"d-flex justify-content-center align-items-center",children:(0,s.jsx)("h4",{className:"generated-music-title",children:null==i?void 0:i.title})})}),(0,s.jsxs)(g.Z,{container:!0,direction:"row",alignItems:"center",style:{minWidth:"100% !important"},children:[(0,s.jsxs)(g.Z,{item:!0,xs:1,children:[a,(0,s.jsx)(u.Z,{onClick:()=>f.current.stop(),children:(0,s.jsx)(h.Z,{className:z.icon})})]}),(0,s.jsx)(g.Z,{item:!0,xs:10,id:k}),(0,s.jsx)(g.Z,{item:!0,xs:1,children:(0,s.jsx)("div",{className:"d-flex align-items-center justify-content-center w-100",children:(0,s.jsx)(v.Z,{className:"btn-sm ".concat((null==i?void 0:i.status)==="queued"||(null==i?void 0:i.status)==="processing"?"disabled":""),variant:"contained",color:"success",size:"small",onClick:()=>Z("".concat("https://mhtai.kenroly.com/api/upload","/").concat(null==i?void 0:i.audio_id),"mht-ai-generated-music-".concat(null==i?void 0:i.audio_id,".mp3")),disabled:(null==i?void 0:i.status)==="queued"||(null==i?void 0:i.status)==="processing",children:(null==i?void 0:i.status)=="complete"?"Download":"Processing..."})})})]})]})})},f=i(63632),j=i(20020),y=i(18142),N=i(65473);function ImageGeneration(){var e;let[a,i]=(0,n.useState)([]),[t,c]=(0,n.useState)({page:1,pageSize:1,meta:null}),[l,r]=(0,n.useState)(!1),fetchGeneratedSongList=async(e,a)=>{try{var s,n,t,l;let r=await (0,f.oS)({page:e,limit:a}),o=null==r?void 0:null===(n=r.data)||void 0===n?void 0:null===(s=n.data)||void 0===s?void 0:s.meta;c(e=>({...e,meta:o})),i(null==r?void 0:null===(l=r.data)||void 0===l?void 0:null===(t=l.data)||void 0===t?void 0:t.data)}catch(e){console.error("fetch generated songs failed",e)}};return(0,n.useEffect)(()=>{fetchGeneratedSongList(t.page,t.pageSize)},[t.page]),(0,n.useEffect)(()=>{l&&(i([]),r(!1))},[l]),(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"techwave_fn_image_generation_page",children:(0,s.jsx)("div",{className:"generation__page",children:(0,s.jsxs)("div",{className:"generation_history",children:[(0,s.jsxs)("div",{className:"fn__generation_item",children:[(0,s.jsxs)("div",{className:"item_header",children:[(0,s.jsxs)("div",{className:"title_holder",children:[(0,s.jsx)("h2",{className:"prompt_title",children:"Rock, Electronic music, Jazz, Classical music, Soul music, Punk rock, Folk music, Synth-pop, Disco, Ska, House music, Indian classical music, Music of Asia, Gospel music, Genealogy of musical genres, Merengue music, Independent music, Popular music, Country music, Blues, Heavy metal, Alternative rock, World music, Funk, Dance music, Hip hop, Christian music, Vocal music, K-pop, Music of Africa, Indie pop, Salsa music, Music of Brazil, Middle Eastern music, Pop music, Rhythm and blues, Hip hop music, Folk music, Electronic dance music, Reggae, New-age music, Singing, Experimental music, Indie rock, Latin music, Music of Latin America, Modernism, Progressive rock, Bachata, Flamenco, Rock and roll"}),(0,s.jsx)("p",{className:"negative_prompt_title",children:"Negative prompt: Text, watermarks, off centre, blur, low res, out of frame, cut off, ugly"})]}),(0,s.jsx)("div",{className:"item_options"})]}),(0,s.jsxs)("div",{className:"item_list",children:[(0,s.jsx)("div",{className:"container-fluid",children:null==a?void 0:a.map((e,a)=>(0,s.jsx)("div",{className:"row w-100 my-2",children:(0,s.jsx)(WavesurferPlayer,{song:e,pagination:t,forceStop:l})}))}),(0,s.jsx)("div",{className:"container-fluid",children:(0,s.jsx)(j.Z,{children:(0,s.jsx)(y.Z,{xs:24,children:(0,s.jsx)("div",{className:"user-card-pagination text-end mt-5",children:(0,s.jsx)(N.default,{align:"end",total:null==t?void 0:null===(e=t.meta)||void 0===e?void 0:e.total,onChange:e=>{r(!0),i([]),c(a=>({...a,page:e}))},current:t.page,pageSize:t.pageSize})})})})})]})]}),(0,s.jsx)("div",{className:"generation_more"})]})})})})}}}]);