(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1261],{49643:function(){},243:function(){},96677:function(e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M678.3 642.4c24.2-13 51.9-20.4 81.4-20.4h.1c3 0 4.4-3.6 2.2-5.6a371.67 371.67 0 00-103.7-65.8c-.4-.2-.8-.3-1.2-.5C719.2 505 759.6 431.7 759.6 349c0-137-110.8-248-247.5-248S264.7 212 264.7 349c0 82.7 40.4 156 102.6 201.1-.4.2-.8.3-1.2.5-44.7 18.9-84.8 46-119.3 80.6a373.42 373.42 0 00-80.4 119.5A373.6 373.6 0 00137 888.8a8 8 0 008 8.2h59.9c4.3 0 7.9-3.5 8-7.8 2-77.2 32.9-149.5 87.6-204.3C357 628.2 432.2 597 512.2 597c56.7 0 111.1 15.7 158 45.1a8.1 8.1 0 008.1.3zM512.2 521c-45.8 0-88.9-17.9-121.4-50.4A171.2 171.2 0 01340.5 349c0-45.9 17.9-89.1 50.3-121.6S466.3 177 512.2 177s88.9 17.9 121.4 50.4A171.2 171.2 0 01683.9 349c0 45.9-17.9 89.1-50.3 121.6C601.1 503.1 558 521 512.2 521zM880 759h-84v-84c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v84h-84c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h84v84c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-84h84c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"user-add",theme:"outlined"}},92237:function(e,a,t){"use strict";var n=t(36199).default,i=t(26314).default;a.Z=void 0;var r=i(t(10712)),s=n(t(2265)),l=i(t(96677)),o=i(t(51718)),c=s.forwardRef(function(e,a){return s.createElement(o.default,(0,r.default)({},e,{ref:a,icon:l.default}))});a.Z=c},44511:function(e,a,t){"use strict";var n=t(10870),i=t(12258),r=t(82372),s=t(2265),l=t(52441),o=t(39845),c=t(57437),d=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],u=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],m=s.forwardRef(function(e,a){var t=e.fieldProps,d=e.children,m=e.params,p=e.proFieldProps,h=e.mode,v=e.valueEnum,f=e.request,g=e.options,x=(0,i.Z)(e,u),C=(0,n.Z)({options:g,mode:h||"multiple",labelInValue:!0,showSearch:!0,suffixIcon:null,autoClearSearchValue:!0,optionLabelProp:"label"},t),b=(0,s.useContext)(l.Z);return(0,c.jsx)(o.Z,(0,n.Z)((0,n.Z)({valueEnum:(0,r.h)(v),request:f,params:m,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,n.Z)({getPopupContainer:b.getPopupContainer},C),ref:a,proFieldProps:p},x),{},{children:d}))}),p=s.forwardRef(function(e,a){var t=e.fieldProps,u=e.children,m=e.params,p=e.proFieldProps,h=e.mode,v=e.valueEnum,f=e.request,g=e.showSearch,x=e.options,C=(0,i.Z)(e,d),b=(0,s.useContext)(l.Z);return(0,c.jsx)(o.Z,(0,n.Z)((0,n.Z)({valueEnum:(0,r.h)(v),request:f,params:m,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,n.Z)({options:x,mode:h,showSearch:g,getPopupContainer:b.getPopupContainer},t),ref:a,proFieldProps:p},C),{},{children:u}))});p.SearchSelect=m,p.displayName="ProFormComponent",a.Z=p},73867:function(e,a,t){Promise.resolve().then(t.bind(t,38661)),Promise.resolve().then(t.bind(t,6567))},75551:function(e,a,t){"use strict";t.d(a,{t:function(){return createTeamApi},C:function(){return fetchListTeamApi}});let n="api/v1/teams";var i=t(96657);let r=new i.Z({url:"https://mhtai.kenroly.com"});r.createEntities([{name:n}]);let fetchListTeamApi=()=>r.createBasicCRUDEndpoints({name:n}).get(),createTeamApi=e=>r.createBasicCRUDEndpoints({name:"api/v1/teams"}).post(e)},77032:function(e,a,t){"use strict";t.d(a,{F8:function(){return createNewUserApi},L2:function(){return fetchListUserApi}});let n="api/v1/users";var i=t(96657);let r=new i.Z({url:"https://mhtai.kenroly.com"});r.createEntities([{name:n},{name:"api/v1/groups"}]);let fetchListUserApi=e=>r.createBasicCRUDEndpoints({name:n}).get(e),createNewUserApi=e=>r.createBasicCRUDEndpoints({name:"api/v1/users"}).post(e)},38661:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return TeamManagement}});var n=t(57437),i=t(2265),r=t(20020),s=t(18142),l=t(68939),o=t(65473),c=t(88110),d=t.n(c),u=t(53648),m=t(59611),p=t(14472),h=t(44511);t(71727);var v=t(75551),f=t(77032);t(50088);var g=t(92237);t(97212);var x=t(5925);t(83343);let C=[{title:"Team ID",dataIndex:"id",key:"id",render:e=>(0,n.jsx)("a",{children:e})},{title:"Name",dataIndex:"name",key:"name",render:e=>(0,n.jsx)("span",{children:e})}];function TeamManagement(){var e;let[a,t]=(0,i.useState)([]),[c,b]=(0,i.useState)([]),[j,w]=(0,i.useState)({page:1,pageSize:10,meta:null}),[Z,P]=(0,i.useState)(!1),S=(0,i.useRef)();(0,i.useRef)();let handleCreateTeam=async e=>{var a,t,n,i,r;try{console.log("submit");let t=await (0,v.t)(e);(null==t?void 0:t.status)===200&&(x.Am.success("Create a new team successfully!"),fetchTeamList(1,j.pageSize),null===(a=S.current)||void 0===a||a.resetFields(),P(!1))}catch(e){console.error("An error occurred:",null==e?void 0:null===(n=e.response)||void 0===n?void 0:null===(t=n.data)||void 0===t?void 0:t.message),x.Am.error(null==e?void 0:null===(r=e.response)||void 0===r?void 0:null===(i=r.data)||void 0===i?void 0:i.message)}},fetchUserList=async(e,a)=>{try{var n,i;let r=await (0,f.L2)({page:e,limit:a});t(null==r?void 0:null===(i=r.data)||void 0===i?void 0:null===(n=i.data)||void 0===n?void 0:n.items)}catch(e){console.error("fetch user list failed:",e)}},fetchTeamList=async(e,a)=>{try{var t,n,i,r;let s=await (0,v.C)({page:e,limit:a}),l=null==s?void 0:null===(n=s.data)||void 0===n?void 0:null===(t=n.data)||void 0===t?void 0:t.meta;w(e=>({...e,meta:l})),b(null==s?void 0:null===(r=s.data)||void 0===r?void 0:null===(i=r.data)||void 0===i?void 0:i.items)}catch(e){console.error("fetch user list failed:",e)}};return(0,i.useEffect)(()=>{console.log("pagination:",j)},[j]),(0,i.useEffect)(()=>{fetchTeamList(j.page,j.pageSize)},[j.page]),(0,i.useEffect)(()=>{fetchUserList(1,100)},[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"techwave_fn_community_page",children:[(0,n.jsx)("div",{className:"fn__title_holder",children:(0,n.jsx)("div",{className:"container-fluid",children:(0,n.jsx)("h1",{className:"title",children:"Team Management"})})}),(0,n.jsx)("div",{className:"techwave_fn_feed",children:(0,n.jsxs)("div",{className:"container-fluid",children:[(0,n.jsx)("div",{className:"w-100 d-flex justify-content-end",children:(0,n.jsx)(d(),{type:"primary",size:"large",icon:(0,n.jsx)(g.Z,{}),className:"d-flex align-items-center bg-success",onClick:()=>{P(!0)},children:"Create a new team"})}),(0,n.jsx)(l.Z,{columns:C,dataSource:c,pagination:!1,className:"mt-2"}),";",(0,n.jsx)(r.Z,{children:(0,n.jsx)(s.Z,{xs:24,children:(0,n.jsx)("div",{className:"user-card-pagination text-end mt-5",children:(0,n.jsx)(o.default,{align:"end",total:null==j?void 0:null===(e=j.meta)||void 0===e?void 0:e.total,onChange:e=>{w(a=>({...a,page:e}))},current:j.page,pageSize:j.pageSize})})})})]})})]}),(0,n.jsxs)(u.Y,{title:"Tạo mới team",open:Z,onFinish:handleCreateTeam,onOpenChange:P,submitter:{searchConfig:{submitText:"Submit",resetText:"Close"}},validateMessages:{required:"${label} is required!",types:{email:"${label} is not a valid email!",number:"${label} is not a valid number!"},number:{range:"${label} must be between ${min} and ${max}"}},formRef:S,children:[(0,n.jsx)(m.A.Group,{children:(0,n.jsx)(p.Z,{width:"md",name:"name",label:"T\xean của Team",tooltip:"Nhập t\xean của team",placeholder:"Nhập t\xean của team",rules:[{required:!0}]})}),(0,n.jsxs)(m.A.Group,{children:[(0,n.jsx)(h.Z,{options:null==a?void 0:a.map(e=>({value:e.id,label:e.name})),width:"md",placeholder:"...",name:"manager_id",label:"Chọn Manager",rules:[{required:!0}]}),(0,n.jsx)(h.Z,{options:null==a?void 0:a.map(e=>({value:e.id,label:e.name})),width:"md",placeholder:"...",name:"supervisor_id",label:"Chọn Supervisor",rules:[{required:!0}]})]})]})]})}}}]);